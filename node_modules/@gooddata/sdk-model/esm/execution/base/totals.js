// (C) 2019-2020 GoodData Corporation
import { __assign } from "tslib";
import isEmpty from "lodash/isEmpty";
import { measureLocalId } from "../measure";
import { attributeLocalId } from "../attribute";
import invariant from "ts-invariant";
//
// Type guards
//
/**
 * Type-guard checking whether an object is a Total.
 *
 * @public
 */
export function isTotal(obj) {
    return !isEmpty(obj) && obj.type !== undefined;
}
//
//
//
/**
 * Creates a new total.
 *
 * @param type - type of total, one of the enumerated types
 * @param measureOrId - measure instance OR measure local identifier
 * @param attributeOrId - attribute instance OR attribute local identifier
 * @param alias - optionally provide custom name (alias) for the total; this will be included in the computed results
 * @returns new total
 * @public
 */
export function newTotal(type, measureOrId, attributeOrId, alias) {
    invariant(type, "total type must be specified");
    invariant(measureOrId, "measure or measure local id must be specified");
    invariant(attributeOrId, "attribute or attribute local id must be specified");
    var measureIdentifier = measureLocalId(measureOrId);
    var attributeIdentifier = attributeLocalId(attributeOrId);
    var aliasProp = alias ? { alias: alias } : {};
    return __assign({ type: type,
        measureIdentifier: measureIdentifier,
        attributeIdentifier: attributeIdentifier }, aliasProp);
}
/**
 * Tests whether total instance represents a native total = a roll-up total.
 *
 * @public
 */
export function totalIsNative(total) {
    invariant(total, "total must be specified");
    return total.type === "nat";
}
//# sourceMappingURL=totals.js.map