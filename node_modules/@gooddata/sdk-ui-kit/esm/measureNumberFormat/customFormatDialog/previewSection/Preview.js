import { __extends } from "tslib";
// (C) 2020 GoodData Corporation
import React from "react";
import { injectIntl } from "react-intl";
import { InputWithNumberFormat } from "../../../Form";
import { ExtendedPreview } from "./ExtendedPreview";
import { FormattedPreview } from "../shared/FormattedPreview";
var DEFAULT_PREVIEW_VALUE = -1234.5678;
var Preview = /** @class */ (function (_super) {
    __extends(Preview, _super);
    function Preview() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.state = {
            preview: DEFAULT_PREVIEW_VALUE,
        };
        _this.onPreviewChange = function (value) {
            _this.setState({ preview: value });
        };
        return _this;
    }
    Preview.prototype.render = function () {
        var _a = this.props, format = _a.format, separators = _a.separators, intl = _a.intl;
        return (React.createElement("div", { className: "gd-measure-custom-format-dialog-section gd-measure-custom-format-dialog-section-preview" },
            React.createElement("span", { className: "gd-measure-custom-format-dialog-section-title" }, intl.formatMessage({ id: "measureNumberCustomFormatDialog.preview" })),
            React.createElement("div", { className: "gd-measure-custom-format-dialog-preview" },
                React.createElement(InputWithNumberFormat, { className: "s-custom-format-dialog-preview-input gd-measure-custom-format-dialog-preview-input", value: this.state.preview, isSmall: true, autofocus: false, onChange: this.onPreviewChange, separators: separators }),
                React.createElement(FormattedPreview, { previewNumber: this.state.preview, format: format, separators: separators, className: "s-custom-format-dialog-preview-formatted gd-measure-custom-format-dialog-preview-string" })),
            React.createElement(ExtendedPreview, { format: format, separators: separators })));
    };
    return Preview;
}(React.PureComponent));
export { Preview };
export default injectIntl(Preview);
//# sourceMappingURL=Preview.js.map