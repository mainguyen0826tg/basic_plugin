// (C) 2020 GoodData Corporation
import format from "date-fns/format";
import { enUS, de, es, fr, ja, nl, pt, ptBR, zhCN } from "date-fns/locale";
import { UnexpectedError } from "@gooddata/sdk-backend-spi";
var granularityFormatPatterns = {
    "GDC.time.minute": "P HH:mm",
    "GDC.time.minute_in_hour": "mm",
    "GDC.time.hour": "P HH':00'",
    "GDC.time.hour_in_day": "HH",
    "GDC.time.date": "P",
    "GDC.time.day_in_month": "dd",
    "GDC.time.day_in_week": "EEEE",
    "GDC.time.day_in_year": "D",
    "GDC.time.month": "LLL yyyy",
    "GDC.time.month_in_year": "LLL",
    "GDC.time.quarter": "qqq/yyyy",
    "GDC.time.quarter_in_year": "qqq",
    "GDC.time.week_us": "'W'w/YYYY",
    "GDC.time.week_in_year": "'W'w",
    "GDC.time.year": "yyyy",
};
var localeConversions = {
    "en-US": enUS,
    "de-DE": de,
    "es-ES": es,
    "fr-FR": fr,
    "ja-JP": ja,
    "nl-NL": nl,
    "pt-BR": ptBR,
    "pt-PT": pt,
    "zh-Hans": zhCN,
};
/**
 * Creates a default date formatting function for a given locale.
 * @param locale - the code of the locale to use
 * @public
 */
export var createDefaultDateFormatter = function (locale) {
    if (locale === void 0) { locale = "en-US"; }
    var convertedLocale = localeConversions[locale];
    if (!convertedLocale) {
        throw new UnexpectedError("Unsupported locale \"" + locale + "\". Supported locales are " + Object.keys(localeConversions).join(", "));
    }
    return function (value, granularity) {
        var formatPattern = granularityFormatPatterns[granularity];
        if (!formatPattern) {
            throw new UnexpectedError("No date formatter for the \"" + granularity + "\" granularity available.");
        }
        return format(value, formatPattern, {
            locale: convertedLocale,
            useAdditionalDayOfYearTokens: true,
            useAdditionalWeekYearTokens: true,
        });
    };
};
//# sourceMappingURL=defaultDateFormatter.js.map