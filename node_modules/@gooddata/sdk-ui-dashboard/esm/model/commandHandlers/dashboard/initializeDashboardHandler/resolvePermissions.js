import { __generator } from "tslib";
import { call } from "redux-saga/effects";
function loadPermissionsFromBackend(ctx) {
    var backend = ctx.backend, workspace = ctx.workspace;
    return backend.workspace(workspace).permissions().getPermissionsForCurrentUser();
}
export function resolvePermissions(ctx, cmd) {
    var permissions, result;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0:
                permissions = cmd.payload.permissions;
                if (permissions) {
                    return [2 /*return*/, permissions];
                }
                return [4 /*yield*/, call(loadPermissionsFromBackend, ctx)];
            case 1:
                result = _a.sent();
                return [2 /*return*/, result];
        }
    });
}
//# sourceMappingURL=resolvePermissions.js.map