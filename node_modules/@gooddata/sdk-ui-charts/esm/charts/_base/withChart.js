import { __assign } from "tslib";
// (C) 2019 GoodData Corporation
import React from "react";
import compose from "lodash/flowRight";
import { getCoreChartProps } from "../_commons/chartDefinition";
import { withContexts, wrapDisplayName } from "@gooddata/sdk-ui";
import { withTheme } from "@gooddata/sdk-ui-theme-provider";
/**
 * Hoc that transforms incoming props to BaseChart props according to chart definition
 * @internal
 */
function withChartDefinition(chartDefinition) {
    var getChartProps = getCoreChartProps(chartDefinition);
    return function (Chart) {
        var WithChartDefinition = function (props) { return React.createElement(Chart, __assign({}, getChartProps(props))); };
        return wrapDisplayName("withChartDefinition", Chart)(WithChartDefinition);
    };
}
/**
 * Common hoc for shared logic between all charts, injects contexts and transforms incoming props to BaseChart props according to chart definition
 * @internal
 */
export var withChart = function (chartDefinition) {
    return function (Chart) {
        return compose(wrapDisplayName("withChart"), withTheme, withContexts, withChartDefinition(chartDefinition))(Chart);
    };
};
//# sourceMappingURL=withChart.js.map