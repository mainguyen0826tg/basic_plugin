import { __awaiter, __generator } from "tslib";
import { convertMetadataObjectXrefEntry } from "../../../convertors/fromBackend/MetaConverter";
import { convertDataSet } from "../../../convertors/fromBackend/DataSetConverter";
var BearWorkspaceDataSets = /** @class */ (function () {
    function BearWorkspaceDataSets(authCall, workspace) {
        this.authCall = authCall;
        this.workspace = workspace;
    }
    BearWorkspaceDataSets.prototype.getDatasets = function () {
        return __awaiter(this, void 0, void 0, function () {
            var result;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.authCall(function (sdk) { return sdk.catalogue.loadDataSets(_this.workspace); })];
                    case 1:
                        result = _a.sent();
                        return [2 /*return*/, result.map(convertDataSet)];
                }
            });
        });
    };
    BearWorkspaceDataSets.prototype.getAllDatasetsMeta = function () {
        return __awaiter(this, void 0, void 0, function () {
            var datasetsResult;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.authCall(function (sdk) {
                            return sdk.project.getDatasets(_this.workspace);
                        })];
                    case 1:
                        datasetsResult = _a.sent();
                        return [2 /*return*/, datasetsResult.map(function (dataset) {
                                return convertMetadataObjectXrefEntry("dataSet", dataset);
                            })];
                }
            });
        });
    };
    return BearWorkspaceDataSets;
}());
export { BearWorkspaceDataSets };
//# sourceMappingURL=index.js.map