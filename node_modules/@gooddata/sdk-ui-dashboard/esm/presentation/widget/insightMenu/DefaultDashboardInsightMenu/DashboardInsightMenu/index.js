import { __assign } from "tslib";
// (C) 2021 GoodData Corporation
import React from "react";
import cx from "classnames";
import { stringUtils } from "@gooddata/util";
import { objRefToString } from "@gooddata/sdk-model";
import { widgetRef } from "@gooddata/sdk-backend-spi";
import { Bubble, Separator } from "@gooddata/sdk-ui-kit";
import { DashboardInsightMenuContainer } from "./DashboardInsightMenuContainer";
import { DashboardInsightMenuItemButton } from "./DashboardInsightMenuItemButton";
var alignPoints = [
    { align: "tr tl" },
    { align: "br bl" },
    { align: "tl tr" },
    { align: "tr tr" },
    { align: "br br" },
];
var arrowDirections = {
    "tr tr": "right",
    "br br": "right",
};
var arrowOffsets = {
    "tr tl": [20, 0],
    "tl tr": [-20, 0],
};
export var DashboardInsightMenu = function (props) {
    var items = props.items, widget = props.widget, onClose = props.onClose;
    var widgetRefAsString = objRefToString(widgetRef(widget));
    return (React.createElement(Bubble, { alignTo: ".dash-item-action-widget-options-" + stringUtils.simplifyText(widgetRefAsString), alignPoints: alignPoints, arrowDirections: arrowDirections, arrowOffsets: arrowOffsets, className: cx("bubble-light", "gd-configuration-bubble", "edit-insight-config", "s-edit-insight-config", "edit-insight-config-arrow-color", "edit-insight-config-title-1-line"), closeOnOutsideClick: true, onClose: onClose, overlayClassName: "gd-configuration-bubble-wrapper" },
        React.createElement(DashboardInsightMenuContainer, { onClose: onClose, widget: widget }, items.map(function (item) {
            if (item.type === "separator") {
                return React.createElement(Separator, { key: item.itemId });
            }
            return React.createElement(DashboardInsightMenuItemButton, __assign({ key: item.itemId }, item));
        }))));
};
//# sourceMappingURL=index.js.map