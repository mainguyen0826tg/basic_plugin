import { __extends } from "tslib";
// (C) 2007-2020 GoodData Corporation
import { Component } from "react";
import isEqual from "lodash/isEqual";
import { removeFromDom } from "../utils/domUtilities";
var HeaderIcon = /** @class */ (function (_super) {
    __extends(HeaderIcon, _super);
    function HeaderIcon() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HeaderIcon.prototype.componentDidMount = function () {
        this.createFavicon();
    };
    HeaderIcon.prototype.shouldComponentUpdate = function (nextProps) {
        return !isEqual(this.props, nextProps);
    };
    HeaderIcon.prototype.componentDidUpdate = function () {
        this.removeFavicon();
        this.createFavicon();
    };
    HeaderIcon.prototype.componentWillUnmount = function () {
        this.removeFavicon();
    };
    HeaderIcon.prototype.createFavicon = function () {
        if (this.props.url) {
            this.favicon = document.createElement("link");
            this.favicon.href = this.props.url;
            this.favicon.rel = this.props.rel;
            this.favicon.type = this.props.type;
            document.head.appendChild(this.favicon);
        }
    };
    HeaderIcon.prototype.removeFavicon = function () {
        removeFromDom(this.favicon);
    };
    HeaderIcon.prototype.render = function () {
        return null;
    };
    HeaderIcon.defaultProps = {
        url: "",
    };
    return HeaderIcon;
}(Component));
export default HeaderIcon;
//# sourceMappingURL=HeaderIcon.js.map