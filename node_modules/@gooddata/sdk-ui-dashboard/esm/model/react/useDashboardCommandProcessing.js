import { __read } from "tslib";
// (C) 2020-2021 GoodData Corporation
import { useState } from "react";
import { useDashboardCommand } from "./useDashboardCommand";
/**
 * @internal
 */
export var useDashboardCommandProcessing = function (_a) {
    var _b;
    var commandCreator = _a.commandCreator, successEvent = _a.successEvent, errorEvent = _a.errorEvent, onSuccess = _a.onSuccess, onError = _a.onError, onBeforeRun = _a.onBeforeRun;
    var _c = __read(useState(), 2), status = _c[0], setStatus = _c[1];
    var run = useDashboardCommand(commandCreator, (_b = {},
        _b[successEvent] = function (event) {
            setStatus("success");
            onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(event);
        },
        _b[errorEvent] = function (event) {
            setStatus("error");
            onError === null || onError === void 0 ? void 0 : onError(event);
        },
        _b), function (cmd) {
        setStatus("running");
        onBeforeRun === null || onBeforeRun === void 0 ? void 0 : onBeforeRun(cmd);
    });
    return {
        run: run,
        status: status,
    };
};
//# sourceMappingURL=useDashboardCommandProcessing.js.map