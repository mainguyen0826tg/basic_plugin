// (C) 2021 GoodData Corporation
import React, { useCallback, useMemo } from "react";
import { useIntl } from "react-intl";
import { areObjRefsEqual } from "@gooddata/sdk-model";
import { GranteeList } from "./GranteeList";
import { getGranteeLabel } from "./utils";
import { AddGranteeSelect } from "./AddGranteeSelect";
/**
 * @internal
 */
export var AddGranteeContent = function (props) {
    var availableGrantees = props.availableGrantees, addedGrantees = props.addedGrantees, onDelete = props.onDelete, onAddUserOrGroups = props.onAddUserOrGroups;
    var intl = useIntl();
    var granteesOption = useMemo(function () {
        return availableGrantees.map(function (grantee) {
            return {
                label: getGranteeLabel(grantee, intl),
                value: grantee,
            };
        });
    }, [availableGrantees, intl]);
    var onSelectGrantee = useCallback(function (grantee) {
        if (!addedGrantees.some(function (g) { return areObjRefsEqual(g.id, grantee.id); })) {
            onAddUserOrGroups(grantee);
        }
    }, [addedGrantees, onAddUserOrGroups]);
    return (React.createElement(React.Fragment, null,
        React.createElement(AddGranteeSelect, { granteesOption: granteesOption, onSelectGrantee: onSelectGrantee }),
        React.createElement(GranteeList, { grantees: addedGrantees, mode: "AddGrantee", onDelete: onDelete })));
};
//# sourceMappingURL=AddGranteeContent.js.map