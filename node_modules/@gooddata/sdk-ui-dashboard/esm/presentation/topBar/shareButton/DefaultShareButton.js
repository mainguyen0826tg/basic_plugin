// (C) 2021 GoodData Corporation
import React from "react";
import { injectIntl } from "react-intl";
import { Button } from "@gooddata/sdk-ui-kit";
import { selectCanManageACL, selectSettings, useDashboardSelector, selectDashboardShareStatus, selectBackendCapabilities, } from "../../../model";
import { HiddenShareButton } from "./HiddenShareButton";
var DefaultShareButtonCore = function (_a) {
    var intl = _a.intl, onShareButtonClick = _a.onShareButtonClick;
    var settings = useDashboardSelector(selectSettings);
    var capabilities = useDashboardSelector(selectBackendCapabilities);
    var hasPermission = useDashboardSelector(selectCanManageACL);
    // TODO INE temp switching of share status. Will be replaced by Share dialog in TNT-257
    var currentShareStatus = useDashboardSelector(selectDashboardShareStatus);
    if (settings.enableAnalyticalDashboardPermissions &&
        capabilities.supportsAccessControl &&
        hasPermission) {
        return (React.createElement(React.Fragment, null,
            React.createElement(Button, { onClick: function () { return onShareButtonClick(); }, value: currentShareStatus === "private"
                    ? intl.formatMessage({ id: "share.button.text" })
                    : "UNSHARE", className: "gd-button-secondary dash-header-share-button s-header-share-button gd-button gd-icon-users" })));
    }
    else {
        return React.createElement(HiddenShareButton, null);
    }
};
/**
 * @alpha
 */
export var DefaultShareButton = injectIntl(DefaultShareButtonCore);
//# sourceMappingURL=DefaultShareButton.js.map