import { __generator } from "tslib";
import { call } from "redux-saga/effects";
import { scheduledEmailCreated } from "../../events/scheduledEmail";
function createScheduledEmail(ctx, scheduledEmail, filterContext) {
    var backend = ctx.backend, workspace = ctx.workspace;
    return backend.workspace(workspace).dashboards().createScheduledMail(scheduledEmail, filterContext);
}
export function createScheduledEmailHandler(ctx, cmd) {
    var scheduledEmail;
    return __generator(this, function (_a) {
        switch (_a.label) {
            case 0: return [4 /*yield*/, call(createScheduledEmail, ctx, cmd.payload.scheduledEmail, cmd.payload.filterContext)];
            case 1:
                scheduledEmail = _a.sent();
                return [2 /*return*/, scheduledEmailCreated(ctx, scheduledEmail, cmd.correlationId)];
        }
    });
}
//# sourceMappingURL=createScheduledEmailHandler.js.map