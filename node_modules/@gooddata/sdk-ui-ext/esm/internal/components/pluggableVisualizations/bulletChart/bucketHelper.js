import { __spreadArrays } from "tslib";
// (C) 2020 GoodData Corporation
import { BucketNames } from "@gooddata/sdk-ui";
import { getAllAttributeItems, getDateItems, removeDivergentDateItems, limitNumberOfMeasuresInBuckets, transformMeasureBuckets, getMainDateItem, } from "../../../utils/bucketHelper";
var measureBucketItemsLimit = [
    {
        localIdentifier: BucketNames.MEASURES,
        itemsLimit: 1,
    },
    {
        localIdentifier: BucketNames.SECONDARY_MEASURES,
        itemsLimit: 1,
    },
    {
        localIdentifier: BucketNames.TERTIARY_MEASURES,
        itemsLimit: 1,
    },
];
export var transformBuckets = function (buckets) {
    var bucketsWithLimitedMeasures = limitNumberOfMeasuresInBuckets(buckets, 3, true);
    var measureBuckets = transformMeasureBuckets(measureBucketItemsLimit, bucketsWithLimitedMeasures);
    var dateItems = getDateItems(buckets);
    var mainDateItem = getMainDateItem(dateItems);
    var viewByBucket = {
        localIdentifier: BucketNames.VIEW,
        items: removeDivergentDateItems(getAllAttributeItems(buckets), mainDateItem).slice(0, 2),
    };
    return __spreadArrays(measureBuckets, [viewByBucket]);
};
//# sourceMappingURL=bucketHelper.js.map