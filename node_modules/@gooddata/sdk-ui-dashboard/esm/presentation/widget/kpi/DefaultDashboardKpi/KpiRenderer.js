// (C) 2020 GoodData Corporation
import React, { useCallback } from "react";
import { KpiContent } from "./KpiContent";
/**
 * @internal
 */
export var KpiRenderer = function (_a) {
    var disableDrillUnderline = _a.disableDrillUnderline, onDrill = _a.onDrill, isDrillable = _a.isDrillable, kpi = _a.kpi, kpiResult = _a.kpiResult, filters = _a.filters, separators = _a.separators, enableCompactSize = _a.enableCompactSize, error = _a.error, errorHelp = _a.errorHelp, isLoading = _a.isLoading;
    var onPrimaryValueClick = useCallback(function () {
        var _a;
        if (!isDrillable || !onDrill) {
            return;
        }
        return onDrill({
            type: "headline",
            element: "primaryValue",
            value: (_a = kpiResult === null || kpiResult === void 0 ? void 0 : kpiResult.measureResult) === null || _a === void 0 ? void 0 : _a.toString(),
            intersection: (kpiResult === null || kpiResult === void 0 ? void 0 : kpiResult.measureDescriptor) ? [
                {
                    header: kpiResult.measureDescriptor,
                },
            ]
                : [],
        });
    }, [kpiResult === null || kpiResult === void 0 ? void 0 : kpiResult.measureResult, kpiResult === null || kpiResult === void 0 ? void 0 : kpiResult.measureDescriptor, isDrillable, onDrill]);
    return (React.createElement(KpiContent, { isLoading: !!isLoading, kpi: kpi, kpiResult: kpiResult, isKpiUnderlineHiddenWhenClickable: disableDrillUnderline, onKpiValueClick: isDrillable && onDrill ? onPrimaryValueClick : undefined, filters: filters, separators: separators, enableCompactSize: enableCompactSize, error: error, errorHelp: errorHelp }));
};
//# sourceMappingURL=KpiRenderer.js.map