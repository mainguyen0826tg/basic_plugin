import { __assign } from "tslib";
// (C) 2021 GoodData Corporation
import React from "react";
import { ErrorComponent as DefaultErrorComponent, LoadingComponent as DefaultLoadingComponent, } from "@gooddata/sdk-ui";
import { useDashboardLoader } from "./useDashboardLoader";
/**
 * DashboardStub encapsulates load, bootstrap and teardown of a dashboard enhanced by plugins. This component
 * is a thin wrapper on top of the {@link useDashboardLoader} hook which does the heavy lifting - you can
 * use the hook in your own component if this simple stub does not suffice.
 *
 * @public
 */
export var DashboardStub = function (props) {
    var _a;
    var _b = props.ErrorComponent, ErrorComponent = _b === void 0 ? DefaultErrorComponent : _b, _c = props.LoadingComponent, LoadingComponent = _c === void 0 ? DefaultLoadingComponent : _c;
    var _d = useDashboardLoader(props), status = _d.status, error = _d.error, result = _d.result;
    if (status === "loading") {
        return React.createElement(LoadingComponent, null);
    }
    if (status === "error" || result === undefined) {
        return React.createElement(ErrorComponent, { message: (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : "" });
    }
    return React.createElement(result.DashboardComponent, __assign({}, result.props));
};
//# sourceMappingURL=DashboardStub.js.map