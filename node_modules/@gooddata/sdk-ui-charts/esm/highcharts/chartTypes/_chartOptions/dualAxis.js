import { __assign, __rest } from "tslib";
// (C) 2019-2020 GoodData Corporation
import { measureLocalId } from "@gooddata/sdk-model";
import { BucketNames } from "@gooddata/sdk-ui";
import { isComboChart } from "../_util/common";
export function setMeasuresToSecondaryAxis(config, dv) {
    var _a;
    if (config === void 0) { config = {}; }
    var isDualAxis = (_a = config.dualAxis) !== null && _a !== void 0 ? _a : true;
    var type = config.type;
    var secondaryYAxis = config.secondary_yaxis, remainConfig = __rest(config, ["secondary_yaxis"]);
    var secondaryMeasuresIds = dv.def().bucketMeasures(BucketNames.SECONDARY_MEASURES).map(measureLocalId);
    if (!isComboChart(type)) {
        return config;
    }
    if (!isDualAxis) {
        return remainConfig;
    }
    return __assign(__assign({}, remainConfig), { secondary_yaxis: __assign(__assign({}, secondaryYAxis), { measures: secondaryMeasuresIds }) });
}
//# sourceMappingURL=dualAxis.js.map