import { __read, __spread } from "tslib";
// (C) 2021 GoodData Corporation
import React, { useMemo } from "react";
import { useIntl } from "react-intl";
import { ConfirmDialogBase } from "../../ConfirmDialogBase";
import { ContentDivider } from "./ContentDivider";
import { ShareGranteeContent } from "./ShareGranteeContent";
import { sortGranteesByName } from "./utils";
/**
 * @internal
 */
export var ShareGranteeBase = function (props) {
    var grantees = props.grantees, owner = props.owner, isDirty = props.isDirty, onCancel = props.onCancel, onSubmit = props.onSubmit, onGranteeDelete = props.onGranteeDelete, onAddGranteeButtonClick = props.onAddGranteeButtonClick;
    var intl = useIntl();
    var granteeList = useMemo(function () {
        return __spread([owner], grantees).sort(sortGranteesByName(intl));
    }, [grantees, owner, intl]);
    var dialogLabels = useMemo(function () {
        return {
            headline: intl.formatMessage({ id: "shareDialog.share.grantee.title" }),
            cancelButtonText: intl.formatMessage({ id: "cancel" }),
            submitButtonText: intl.formatMessage({ id: "save" }),
        };
    }, []);
    return (React.createElement(ConfirmDialogBase, { className: "gd-share-dialog s-gd-share-grantees", displayCloseButton: true, isPositive: true, isSubmitDisabled: !isDirty, headline: dialogLabels.headline, cancelButtonText: dialogLabels.cancelButtonText, submitButtonText: dialogLabels.submitButtonText, onCancel: onCancel, onSubmit: onSubmit },
        React.createElement(ShareGranteeContent, { grantees: granteeList, onAddGrantee: onAddGranteeButtonClick, onDelete: onGranteeDelete }),
        React.createElement(ContentDivider, null)));
};
//# sourceMappingURL=ShareGranteeBase.js.map